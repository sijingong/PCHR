<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.bnt.pchr.mapper.LeaveMapper">
    <select id="selectPage" resultType="leave">
        <![CDATA[
        select `leave_id` as `leaveId`,
               `create_time` as `createTime`,
               `end_time`    as  `endTime`,
               `remark`      as  `remark`,
               `emp_id`    as  `empId`,
               `apply_state` as  `applyState`,
               `apply_time`  as  `applyTime`,
               `leave_type`  as  `leaveType`,
               `destory_state` as `destoryState`,
               `destory_time`  as `destoryTime`
        from `emp_leave`
        ]]>
        <where>
            <if test="criteriaMap.empId!=null">
                <![CDATA[and `emp_id`=#{criteriaMap.empId,jdbcType=INTEGER}]]>
            </if>
            <if test="criteriaMap.applyState!=null">
                <![CDATA[and `apply_state`=#{criteriaMap.applyState,jdbcType=INTEGER}]]>
            </if>
            <if test="criteriaMap.leaveType!=null">
                <![CDATA[and `leave_type`=#{criteriaMap.leaveType,jdbcType=INTEGER}]]>
            </if>
            <if test="criteriaMap.destoryState!=null">
                <![CDATA[and `destory_state`=#{criteriaMap.destoryState,jdbcType=INTEGER}]]>
            </if>
        </where>
        <if test="@cn.hutool.core.util.StrUtil@isNotEmpty(orderBySQL)">
            <![CDATA[order by ${orderBySQL}]]>
        </if>
    </select>
</mapper>